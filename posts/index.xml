<rss xmlns:atom="http://www.w3.org/2005/Atom" version="2.0"><channel><title>所有文章 - cloudSky's 小站</title><link>https://ops.m114.org/posts/</link><description>所有文章 | cloudSky's 小站</description><generator>Hugo -- gohugo.io</generator><language>zh-CN</language><lastBuildDate>Sat, 22 Oct 2022 15:08:13 +0800</lastBuildDate><atom:link href="https://ops.m114.org/posts/" rel="self" type="application/rss+xml"/><item><title>fastlane无法上传ipa至TestFlight</title><link>https://ops.m114.org/post/fastlane-fail-to-upload-to-testflight/</link><pubDate>Sat, 22 Oct 2022 15:08:13 +0800</pubDate><author><name>CloudSky</name></author><guid>https://ops.m114.org/post/fastlane-fail-to-upload-to-testflight/</guid><description>环境 Mac Studio（2022） MacOS 12.5.1 XCode 13.4.1 fastlane 2.210.1 ruby 3.1.2p20 (2022-04-12 revision 4491bb740a) [arm64-darwin21] 问题 上周还能正常上传TestFlight，今天就出现这诡异的问题，报错日志如下 [14:08:17]: [iTMSTransporter] [2022-10-22 14:08:16</description></item><item><title>KubeSphere系列二: 使用 KubeKey 离线安装 Cilium 替代 kube-proxy</title><link>https://ops.m114.org/post/use-cilium-instead-of-kube-proxy/</link><pubDate>Sat, 15 Oct 2022 14:24:48 +0800</pubDate><author><name>CloudSky</name></author><guid>https://ops.m114.org/post/use-cilium-instead-of-kube-proxy/</guid><description>详细安装部分见前文，本文仅记录 Cilium 替换 kube-proxy 差异部分。 1. 系统限制 Linux kernel &amp;gt;= 4.9.17(推荐&amp;gt;=5.10) 245 以上的 systemd 版本，会导致Pod到节点之外</description></item><item><title>Kubernetes容器化 - Zookeeper</title><link>https://ops.m114.org/post/zookeeper-in-k8s/</link><pubDate>Tue, 04 Oct 2022 13:21:00 +0800</pubDate><author><name>CloudSky</name></author><guid>https://ops.m114.org/post/zookeeper-in-k8s/</guid><description>Kubernetes官方有一个ZooKeeper教程。此文使用的是Docker官方镜像，主要是两个环境变量的设置 ZOO_MY_ID：用来指定</description></item><item><title>k8s查看集群信息及基本命令</title><link>https://ops.m114.org/post/k8s-basic-command/</link><pubDate>Thu, 29 Sep 2022 15:11:03 +0800</pubDate><author><name>CloudSky</name></author><guid>https://ops.m114.org/post/k8s-basic-command/</guid><description>集群信息的各种查看基本上是在Master节点操作 查看 Node状态 kubectl get nodes kubectl get node IP //节点IP可以用空格隔开写多个 查看 Service 信息 kubectl get service 查看所有名称空</description></item><item><title>KubeSphere系列一: 使用 KubeKey 离线部署 Kubernetes 与 KubeSphere</title><link>https://ops.m114.org/post/install-kubesphere-with-kubekey/</link><pubDate>Sat, 17 Sep 2022 12:36:03 +0800</pubDate><author><name>CloudSky</name></author><guid>https://ops.m114.org/post/install-kubesphere-with-kubekey/</guid><description>部署准备 1. 资源清单 名称 数量 用途 服务器 2 离线部署环境使用 2. 环境信息 OS: AlmaLinux 9.0 Kubernetes: 1.24.3 containerd: 1.6.4 KubeSphere: 3.3.1-rc.2 Kubekey: 2.3.0-rc.2 Harbor: 2.5.3 3. kubekey离线所需artifact清单 ks-v3.3.1-rc.2-manifest.yaml apiVersion: kubekey.kubesphere.io/v1alpha2</description></item><item><title>[Go] 函数参数传递的sync.Mutex不是指针会怎么样</title><link>https://ops.m114.org/post/go-sync-mutex-pass-as-function-param-is-not-pointer/</link><pubDate>Thu, 15 Sep 2022 09:39:03 +0800</pubDate><author><name>CloudSky</name></author><guid>https://ops.m114.org/post/go-sync-mutex-pass-as-function-param-is-not-pointer/</guid><description><![CDATA[函数传值 package main import ( &#34;fmt&#34; &#34;sync&#34; ) var a = 1 func t(lock sync.Mutex, wg *sync.WaitGroup) { defer wg.Done() lock.Lock() defer lock.Unlock() for i := 0; i &lt; 10000000; i++ { a++ } } func main() { lock := sync.Mutex{} wg := &amp;sync.WaitGroup{} wg.Add(2) go t(lock, wg) go t(lock, wg) wg.Wait() fmt.Println(a) } 输出 // 每次输出值都不一样 10149117]]></description></item><item><title>[Go] json的html转义问题</title><link>https://ops.m114.org/post/go-json-html-escape/</link><pubDate>Fri, 13 May 2022 10:11:03 +0800</pubDate><author><name>CloudSky</name></author><guid>https://ops.m114.org/post/go-json-html-escape/</guid><description>环境 json库：github.com/goccy/go-json 问题 go语言提供了json的编解码包，json字符串作为参数值传输时发现，j</description></item><item><title>[Go] 飞书电子表格导出Excel文件</title><link>https://ops.m114.org/post/go-feishu-spreadsheet-export-excel/</link><pubDate>Thu, 12 May 2022 11:10:03 +0800</pubDate><author><name>CloudSky</name></author><guid>https://ops.m114.org/post/go-feishu-spreadsheet-export-excel/</guid><description>飞书电子表格网页版有导出Excel功能，但公布的API文档中没有此接口，目前使用读取单元格数据， 然后使用excelize流式写入excel，</description></item><item><title>[Go] 将带参数的函数传递给time.AfterFunc</title><link>https://ops.m114.org/post/go-time-afterfunc-with-arguments/</link><pubDate>Sun, 08 May 2022 19:30:03 +0800</pubDate><author><name>CloudSky</name></author><guid>https://ops.m114.org/post/go-time-afterfunc-with-arguments/</guid><description>time.AfterFunc() 接受持续时间和要在该持续时间到期时执行的函数。但函数不能是接受参数的函数。 例如：无法传递以下函数： func Foo (b *Bar) {} 但是，可以初始化调用上述函数的</description></item><item><title>Lua小数四舍五入</title><link>https://ops.m114.org/post/lua-math/</link><pubDate>Fri, 25 Mar 2022 10:40:03 +0800</pubDate><author><name>CloudSky</name></author><guid>https://ops.m114.org/post/lua-math/</guid><description>保留整数 math.floor(x + 0.5) // 4.4 --&amp;gt; 4 math.floor(x) // 会直接舍弃小数点后的部分 保留几位小数进行四舍五入 公式为: math.floor(x * num + 0.5) / num 保留2位 num为100，3位为1000，… 比</description></item></channel></rss>