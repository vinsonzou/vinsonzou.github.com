<rss xmlns:atom="http://www.w3.org/2005/Atom" version="2.0"><channel><title>所有文章 - cloudSky's 小站</title><link>https://ops.m114.org/posts/</link><description>所有文章 | cloudSky's 小站</description><generator>Hugo -- gohugo.io</generator><language>zh-CN</language><lastBuildDate>Sat, 12 Nov 2022 15:00:03 +0800</lastBuildDate><atom:link href="https://ops.m114.org/posts/" rel="self" type="application/rss+xml"/><item><title>DoT/DoH 之 CoreDNS配置</title><link>https://ops.m114.org/post/coredns-config-of-dot-doh/</link><pubDate>Sat, 12 Nov 2022 15:00:03 +0800</pubDate><author><name>CloudSky</name></author><guid>https://ops.m114.org/post/coredns-config-of-dot-doh/</guid><description>DoT/DoH/DoQ 的好处就不用多说了，那么如何让你的网络用上DoT/DoH/DoQ呢？ DoT：DNS over TLS DoH：DNS over HTTPS DoQ：DNS over QUIC(Core</description></item><item><title>KubeSphere-3: 使用 KubeKey 离线升级 KubeSphere</title><link>https://ops.m114.org/post/upgrade-kubesphere-with-kubekey/</link><pubDate>Fri, 28 Oct 2022 12:16:00 +0800</pubDate><author><name>CloudSky</name></author><guid>https://ops.m114.org/post/upgrade-kubesphere-with-kubekey/</guid><description>升级准备 1. 环境信息 OS: AlmaLinux 9.0 Kubernetes: 1.24.3 containerd: 1.6.4 KubeSphere: 3.3.1 Kubekey: 2.3.0 Harbor: 2.5.3 2. kubekey离线所需artifact清单 ks-v3.3.1-manifest.yaml apiVersion: kubekey.kubesphere.io/v1alpha2 kind: Manifest metadata: name: sample spec: arches: - amd64 operatingSystems: - arch: amd64 type: linux id: almalinux version: &amp;#34;9.0&amp;#34; osImage: AlmaLinux 9.0 repository:</description></item><item><title>fastlane无法上传ipa至TestFlight</title><link>https://ops.m114.org/post/fastlane-fail-to-upload-to-testflight/</link><pubDate>Sat, 22 Oct 2022 15:08:13 +0800</pubDate><author><name>CloudSky</name></author><guid>https://ops.m114.org/post/fastlane-fail-to-upload-to-testflight/</guid><description>环境 Mac Studio（2022） MacOS 12.5.1 XCode 13.4.1 fastlane 2.210.1 ruby 3.1.2p20 (2022-04-12 revision 4491bb740a) [arm64-darwin21] 问题 上周还能正常上传TestFlight，今天就出现这诡异的问题，报错日志如下 [14:08:17]: [iTMSTransporter] [2022-10-22 14:08:16</description></item><item><title>[Go] redis库使用</title><link>https://ops.m114.org/post/go-redis/</link><pubDate>Tue, 18 Oct 2022 17:11:03 +0800</pubDate><author><name>CloudSky</name></author><guid>https://ops.m114.org/post/go-redis/</guid><description>环境 redis库：github.com/go-redis/redis/v8 需求 使用redis存储Unity Meta guid信息，用于提交svn时检</description></item><item><title>[Go] 1.18新增库之net/netip</title><link>https://ops.m114.org/post/go-1.18-netip/</link><pubDate>Sun, 16 Oct 2022 14:01:00 +0800</pubDate><author><name>CloudSky</name></author><guid>https://ops.m114.org/post/go-1.18-netip/</guid><description><![CDATA[go1.18标准库都支持了，还直接支持ipv6判断包含之类的。 示例如下 package main import ( &#34;fmt&#34; &#34;net/netip&#34; ) func main() { p, err := netip.ParsePrefix(`10.10.10.0/24`) if err != nil { panic(err) } a, err := netip.ParseAddr(`10.10.10.6`) if err != nil { panic(err) } fmt.Println(p.Contains(a)) }]]></description></item><item><title>KubeSphere-2: 使用 KubeKey 离线安装 Cilium 替代 kube-proxy</title><link>https://ops.m114.org/post/use-cilium-instead-of-kube-proxy/</link><pubDate>Sat, 15 Oct 2022 14:24:48 +0800</pubDate><author><name>CloudSky</name></author><guid>https://ops.m114.org/post/use-cilium-instead-of-kube-proxy/</guid><description>详细安装部分见前文，本文仅记录 Cilium 替换 kube-proxy 差异部分。 1. 系统限制 Linux kernel &amp;gt;= 4.9.17(推荐&amp;gt;=5.10) 245 以上的 systemd 版本，会导致Pod到节点之外</description></item><item><title>Kubernetes容器化 - Zookeeper</title><link>https://ops.m114.org/post/zookeeper-in-k8s/</link><pubDate>Tue, 04 Oct 2022 13:21:00 +0800</pubDate><author><name>CloudSky</name></author><guid>https://ops.m114.org/post/zookeeper-in-k8s/</guid><description>Kubernetes官方有一个ZooKeeper教程。此文使用的是Docker官方镜像，主要是两个环境变量的设置 ZOO_MY_ID：用来指定</description></item><item><title>k8s查看集群信息及基本命令</title><link>https://ops.m114.org/post/k8s-basic-command/</link><pubDate>Thu, 29 Sep 2022 15:11:03 +0800</pubDate><author><name>CloudSky</name></author><guid>https://ops.m114.org/post/k8s-basic-command/</guid><description>集群信息的各种查看基本上是在Master节点操作 查看 Node状态 kubectl get nodes kubectl get node IP //节点IP可以用空格隔开写多个 查看 Service 信息 kubectl get service 查看所有名称空</description></item><item><title>KubeSphere-1: 使用 KubeKey 离线部署 Kubernetes 与 KubeSphere</title><link>https://ops.m114.org/post/install-kubesphere-with-kubekey/</link><pubDate>Sat, 17 Sep 2022 12:36:03 +0800</pubDate><author><name>CloudSky</name></author><guid>https://ops.m114.org/post/install-kubesphere-with-kubekey/</guid><description>部署准备 1. 资源清单 名称 数量 用途 服务器 2 离线部署环境使用 2. 环境信息 OS: AlmaLinux 9.0 Kubernetes: 1.24.3 containerd: 1.6.4 KubeSphere: 3.3.1-rc.2 Kubekey: 2.3.0-rc.2 Harbor: 2.5.3 3. kubekey离线所需artifact清单 ks-v3.3.1-rc.2-manifest.yaml apiVersion: kubekey.kubesphere.io/v1alpha2</description></item><item><title>[Go] 函数参数传递的sync.Mutex不是指针会怎么样</title><link>https://ops.m114.org/post/go-sync-mutex-pass-as-function-param-is-not-pointer/</link><pubDate>Thu, 15 Sep 2022 09:39:03 +0800</pubDate><author><name>CloudSky</name></author><guid>https://ops.m114.org/post/go-sync-mutex-pass-as-function-param-is-not-pointer/</guid><description><![CDATA[函数传值 package main import ( &#34;fmt&#34; &#34;sync&#34; ) var a = 1 func t(lock sync.Mutex, wg *sync.WaitGroup) { defer wg.Done() lock.Lock() defer lock.Unlock() for i := 0; i &lt; 10000000; i++ { a++ } } func main() { lock := sync.Mutex{} wg := &amp;sync.WaitGroup{} wg.Add(2) go t(lock, wg) go t(lock, wg) wg.Wait() fmt.Println(a) } 输出 // 每次输出值都不一样 10149117]]></description></item></channel></rss>