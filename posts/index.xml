<rss xmlns:atom="http://www.w3.org/2005/Atom" version="2.0"><channel><title>所有文章 - cloudSky's 小站</title><link>https://ops.m114.org/posts/</link><description>所有文章 | cloudSky's 小站</description><generator>Hugo -- gohugo.io</generator><language>zh-CN</language><lastBuildDate>Wed, 21 Jun 2023 12:42:00 +0800</lastBuildDate><atom:link href="https://ops.m114.org/posts/" rel="self" type="application/rss+xml"/><item><title>[Go] 使用函数式选项模式</title><link>https://ops.m114.org/post/go-functional-options-pattern/</link><pubDate>Wed, 21 Jun 2023 12:42:00 +0800</pubDate><author><name>CloudSky</name></author><guid>https://ops.m114.org/post/go-functional-options-pattern/</guid><description>Go 不是完全面向对象语言，有一些面向对象模式不太适合它。但经过这些年的发展，Go 有自己的一些模式。今天介绍一个常见的模式：函数式选项模式（Fu</description></item><item><title>[Go] 踩坑系列之os.Chdir</title><link>https://ops.m114.org/post/go-chdir-of-stepping-pit-series/</link><pubDate>Tue, 20 Jun 2023 09:20:00 +0800</pubDate><author><name>CloudSky</name></author><guid>https://ops.m114.org/post/go-chdir-of-stepping-pit-series/</guid><description>场景 当前的打包调度程序，同时出ipa/apk时(2个goroutine)，总是失败，单独执行时则没有影响。 因运维习惯，把ipa/apk打包的</description></item><item><title>[Go] defer学习</title><link>https://ops.m114.org/post/go-defer/</link><pubDate>Sat, 20 May 2023 14:02:03 +0800</pubDate><author><name>CloudSky</name></author><guid>https://ops.m114.org/post/go-defer/</guid><description>在 Go 语言中使用 defer 关键字可以将代码延迟到函数结束之前执行。在开发中，我们经常使用 defer 关键字完成善后工作，如关闭打开的文件描述符、关闭连接以及释放</description></item><item><title>[Go] 踩坑系列之channel阻塞</title><link>https://ops.m114.org/post/go-channel-blocking-of-stepping-pit-series/</link><pubDate>Sat, 20 May 2023 13:00:03 +0800</pubDate><author><name>CloudSky</name></author><guid>https://ops.m114.org/post/go-channel-blocking-of-stepping-pit-series/</guid><description><![CDATA[最近为了优化执行效率，使用goroutine并发处理，同时使用channel来采集 error 信息，结果踩坑了。示例代码如下： package main import ( &#34;errors&#34; &#34;fmt&#34; &#34;sync&#34; ) func demo() error {]]></description></item><item><title>Lua实现返回内容gzip解压/压缩</title><link>https://ops.m114.org/post/lua-gzip/</link><pubDate>Fri, 12 May 2023 12:43:03 +0800</pubDate><author><name>CloudSky</name></author><guid>https://ops.m114.org/post/lua-gzip/</guid><description>背景 最近要获取 jira 返回数据更新关注列表，jira 服务器的请求和返回的数据默认进行了 gzip 压缩。目前有 2 种方式 jira 设置中关闭 gzip 压缩 使用 lua 对 gzip 进行解压，</description></item><item><title>解决Android安装包签名异常</title><link>https://ops.m114.org/post/apk-signature-scheme-v2-integer-overflow/</link><pubDate>Sat, 22 Apr 2023 16:03:03 +0800</pubDate><author><name>CloudSky</name></author><guid>https://ops.m114.org/post/apk-signature-scheme-v2-integer-overflow/</guid><description>环境 Unity 2021.3 Android Gradle Plugin(AGP): 4.0.1 Gradle: 6.1.1 APK 大小: 2.1G 系统版本: Android 12 使用adb安装报错如下 adb install /tmp/com.test.demo_0.0.1_18971.apk /tmp/com.test.demo_0.0.1_18971.apk Performing Streamed Install adb: failed to install /tmp/com.test.demo_0.0.1_18971.apk: Failure [INSTALL_PARSE_FAILED_NO_CERTIFICATES: Failed collecting certificates for /data/app/vmdl226784575.tmp/base.apk: Failed to collect certificates from /data/app/vmdl226784575.tmp/base.apk using APK Signature Scheme v2: integer overflow] 之前 APK 安装</description></item><item><title>[Go] 使用database/sql操作MySQL数据库</title><link>https://ops.m114.org/post/go-sql/</link><pubDate>Sat, 08 Apr 2023 17:11:03 +0800</pubDate><author><name>CloudSky</name></author><guid>https://ops.m114.org/post/go-sql/</guid><description>基础用法 Go语言中的database/sql包提供了保证SQL或类SQL数据库的泛用接口，并不提供具体的数据库驱动。使用database/s</description></item><item><title>git clone Out of memory, malloc failed</title><link>https://ops.m114.org/post/git-clone-oom/</link><pubDate>Fri, 07 Apr 2023 14:40:25 +0800</pubDate><author><name>CloudSky</name></author><guid>https://ops.m114.org/post/git-clone-oom/</guid><description>报错如下 [root@localhost ~]# git clone xxx/iOSClient.git Cloning into &amp;#39;iOSClient&amp;#39;... remote: Enumerating objects: 4455, done. remote: Counting objects: 100% (4455/4455), done. remote: warning: suboptimal pack - out of memory remote: error: Out of memory, malloc failed (tried to allocate 343057209 bytes) remote: fatal: packed object 98d3df78eb15e9010125e8d6c005f2e0a3792164 (stored in ./objects/pack/pack-c077e52335fd57f98e2fbe83ed034dde18fd6071.pack) is corrupt remote: aborting due to possible repository corruption on the remote side. error: git upload-pack: git-pack-objects died with</description></item><item><title>[Go] 使用指定IP请求HTTPS</title><link>https://ops.m114.org/post/go-https-request-with-custom-ip/</link><pubDate>Sat, 11 Mar 2023 15:01:00 +0800</pubDate><author><name>CloudSky</name></author><guid>https://ops.m114.org/post/go-https-request-with-custom-ip/</guid><description>环境 go 1.20 需求 比如要请求一个域名test.com, 希望DNS解析到指定IP1.1.1.1，如何设置http.Client呢？ 因权限限制，不能改</description></item><item><title>[Go] mTLS client示例</title><link>https://ops.m114.org/post/go-mtls-client/</link><pubDate>Sat, 25 Feb 2023 13:40:00 +0800</pubDate><author><name>CloudSky</name></author><guid>https://ops.m114.org/post/go-mtls-client/</guid><description><![CDATA[环境 go 1.20 GET请求示例 package main import ( &#34;crypto/tls&#34; &#34;crypto/x509&#34; &#34;io&#34; &#34;log&#34; &#34;net/http&#34; &#34;os&#34; ) func main() { // 加载证书和密钥 cert, err := tls.LoadX509KeyPair(&#34;client.crt&#34;, &#34;client.key&#34;) if err != nil { log.Fatal(err) } // 加载服务器的根证书 caCert, err := os.ReadFile(&#34;ca.crt&#34;) if err != nil { log.Fatal(err) } caCertPool := x509.NewCertPool() caCertPool.AppendCertsFromPEM(caCert)]]></description></item></channel></rss>